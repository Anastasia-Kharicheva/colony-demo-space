kind: application
inputs:
- PORT: 3000
- AZURE_VM_SIZE: Basic_A1
- SERVER_PORT
infrastructure:
  connectivity:
    external:
    - web:
        port: $PORT
        path: ''
  compute:
    spec:      
      azure:
        vm_size: $AZURE_VM_SIZE
configuration:
  start:
    script: promotions-mamager-ui-command.sh
  initialization:
    script: promotions-mamager-ui.sh
  healthcheck:
    timeout: 1000
    wait_for_ports: $PORT
source:
  image:    
    azure_image:
    - urn: jetware-srl:mongodb:mongodb34-ubuntu-1604:latest
      username: ubuntu
  os_type: linux
spec_version: 1
debugging: 
  connection_protocol: SSH